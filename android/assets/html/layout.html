<!DOCTYPE html>
<html lang="en">
  <head>
    <title>surespot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/app/style.css">
    <link rel="stylesheet" href="../css/lib/jquery.mobile-1.1.1.min.css">
    <script data-main="../js/app/main" src="../js/lib/require.js"></script>
    <script src="../js/lib/jsbn.js"></script>
    <script src="../js/lib/jsbn2.js"></script>
    <script src="../js/lib/rsa.js"></script>
    <script src="../js/lib/rsa2.js"></script>
    <script src="../js/lib/prng4.js"></script>
    <script src="../js/lib/rng.js"></script>
    <script src="../js/lib/rsasync.js"></script>
    <script src="../js/lib/sjcl.js"></script>
  </head>
  <body id="page_body" data-base="http://alpha.surespot.me">
    <div id="login" data-role="page">
      <div data-role="header" data-position="fixed" data-tap-toggle="false"><a id="signupheaderbutton" href="#signup" data-role="button">signup</a>
        <h1>surespot</h1>
      </div>
      <div data-role=content>
        <form id="loginform" method="post" data-ajax="false">
          <div style="width:200px; text-align:right">
            <label>username:
              <input id="usernameinput" type="text" name="username">
            </label><br>
            <label>password:
              <input id="passwordInput" type="password" name="password">
            </label><br>
            <input id="loginbutton" type="submit" value="login">
          </div>
        </form>
      </div>
      <div data-role="footer" data-position="fixed"></div>
    </div>
    <div id="signup" data-role="page">
      <div data-role="header" data-position="fixed" data-tap-toggle="false" data-add-back-btn="true"><a href="#login" data-role="button" data-icon="delete">cancel</a>
        <h1>surespot</h1>
      </div>
      <div data-role=content>
        <form id="signupform" method="post" data-ajax="false">
          <div style="width:200px; text-align:right">
            <label>username:
              <input id="signupusernameinput" type="text" name="username">
            </label><br>
            <label>password:
              <input id="signupPasswordInput" type="password" name="password">
            </label><br>
            <input id="signupbutton" type="submit" value="sign up">
          </div>
        </form>
      </div>
      <div data-role="footer" data-position="fixed"></div>
    </div>
    <div id="notifications" data-role="page">
      <div data-role="header" data-position="fixed" data-tap-toggle="false">
        <h1 data-bind="text: title" class="ss-title notifications-vm"></h1>
        <div data-role="navbar">
          <ul>
            <li><a href="#" data-bind="click: logout" class="ss-logout">logout</a></li>
            <li><a href="#friends">friends&nbsp;<span data-bind="text: totalMessageCount" class="friends-vm ui-li-count"></span></a></li>
            <li><a href="#" class="ui-btn-active ui-state-persist">notifications&nbsp;<span data-bind="text: itemList().length" class="notifications-vm ui-li-count"></span></a></li>
          </ul>
        </div>
      </div>
      <div id="notificationscontent" data-role="content">
        <ul data-role="listview" data-bind="foreach: itemList, jqmRefreshList: itemList()" auto-dividers="true" class="notificationslist">
          <li>
            <div><span data-bind="text: $data.data"></span>
              <button data-role="button" data-inline="true" data-mini="true" data-bind="click: function(data,event) { $parent.notificationClick(data,event,'accept') }">accept</button>
              <button data-role="button" data-inline="true" data-mini="true" data-bind="click: function(data,event) { $parent.notificationClick(data,event,'ignore') }">ignore</button>
            </div>
          </li>
        </ul>
      </div>
      <div data-role="footer" data-position="fixed" data-tap-toggle="false"></div>
    </div>
    <div id="friends" data-role="page">
      <div data-role="header" data-position="fixed" data-tap-toggle="false">
        <h1 data-bind="text: title()" class="ss-title friends-vm"></h1>
        <div data-role="navbar">
          <ul>
            <li><a href="#" data-bind="click: logout" class="ss-logout">logout</a></li>
            <li><a href="#" class="ui-btn-active ui-state-persist">friends&nbsp;<span data-bind="text: totalMessageCount" class="friends-vm ui-li-count"></span></a></li>
            <li><a href="#notifications">notifications&nbsp;<span data-bind="text: itemList().length" class="notifications-vm ui-li-count"></span></a></li>
          </ul>
        </div>
      </div>
      <div id="friendscontent" data-role="content">
        <ul id="friendslist" data-role="listview" data-bind="foreach: itemList, jqmRefreshList: itemList()" auto-dividers="true" class="friendslist">
          <li><a href="#" data-bind="click: function(data,event) { $parent.friendClick(data,event) }"><span data-bind="text: $data.friendname">&nbsp;</span><span data-bind="text: $parent.getNewMessageCount($data.room)" class="ui-li-count"></span></a></li>
        </ul>
      </div>
      <div data-role="footer" data-position="fixed" data-tap-toggle="false">
        <input type="text" id="blinkerinput">
      </div>
    </div>
    <div id="conversationtemplate" data-role="page">
      <div data-role="header" data-position="fixed" data-tap-toggle="false" class="conversationheader">
        <h1 data-bind="text: title()" class="ss-title conversationcontent"></h1>
        <div data-role="navbar">
          <ul>
            <li><a href="#" data-bind="click: logout" class="ss-logout">logout</a></li>
            <li><a href="#friends">friends&nbsp;<span data-bind="text: totalMessageCount" class="friends-vm ui-li-count"></span></a></li>
            <li><a href="#notifications">notifications&nbsp;<span data-bind="text: itemList().length" class="notifications-vm ui-li-count"></span></a></li>
          </ul>
        </div>
      </div>
      <div data-role=content class="conversationcontent">
        <ul data-role="listview" data-bind="foreach: itemList, jqmRefreshList: itemList()" auto-dividers="true" class="conversationlines">
          <li><span data-bind="text: $data"></span></li>
        </ul>
      </div>
      <div data-role="footer" data-position="fixed" data-tap-toggle="false" class="conversationfooter">
        <input type="text" class="conversationinput">
      </div>
    </div>
  </body>
</html>